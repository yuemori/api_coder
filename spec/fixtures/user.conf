APICoder.define :User do
  description 'Users API'

  attribute :id, :integer
  attribute :name, :string
  attribute :password, :string
  attribute :created_at, :string
  attribute :updated_at, :string

  struct :user_authenticate, %i(name password)
  struct :user_infomation, %i(id name password created_at updated_at)

  link(:index) do
    title 'index_user'
    description 'list of users'

    path '/users'
    method 'GET'

    response :user_infomation, array: true
  end

  link(:show) do
    title 'show_user'
    description 'show user'

    path '/users/:id'
    method 'GET'

    response :user_infomation
  end

  link(:create) do
    title 'create_user'
    description 'create user'

    path '/users'
    method 'POST'

    request :user_authenticate
    response :user_infomation
  end
end
